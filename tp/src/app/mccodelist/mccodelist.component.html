

<div class="container">
  <div class="row" >

      <div class="col-md" style="text-align:left">
          <form role="form">
          <div class="input-group date form_datetime col-md-5"
               [attr.data-date]="'1979-09-16T05:25:07Z'"
               [attr.data-date-format]="'dd MM yyyy - HH:ii p'"
               [attr.data-link-field]="'dtp_input1'">
               <button type="submit" class="btn btn-primary" (click)="rebackView()">
                回首頁
               </button>
               &nbsp;
               <input type="date"  name="DOMDate" [(ngModel)] = "date" placeholder="2014-09-18" (change)="doquery()">
               &nbsp;
               <select name="DOMType" class="LiSelect" [(ngModel)]="codeSelected" (change)="doquery()" >
                  <option *ngFor="let itemCode of ListCodes" value="{{itemCode.val}}" >{{itemCode.txt}} </option>
               </select>
               &nbsp;
               <select name="DOMType1" class="LiSelect" [(ngModel)]="autoSelected" (change)="isCloseAuto()" style="width:auto" >
                  <option *ngFor="let itemCode of ListAutos" value="{{itemCode.val}}"  >{{itemCode.txt}} </option>
               </select>
               &nbsp;
               <!--<button type="submit" style="background-color:aqua;" class="btn btn-default" (click)="doquery()" >查詢</button>-->
               <input type="text" readonly="readonly"
                style="padding:2px;border:solid;color:darkgreen;font-size:x-small;" size=30 value="最後更新時間：{{nowDate}}"/>
            </div>
          </form>
      </div>
  </div>
  <br/>
  <div style="text-align:center">
      <input style="width:100%;border:solid;background-color:blue;font-family: impact;color:lavender;text-align:center;font-size:x-large;"
      type="text" name="DOMCode" [attr.readonly]="'readonly'" [ngModel] = "code">
      <button class="w3-button w3-block w3-teal" (click) = "jqueryToggleAll(id1,id2)"  [id]="id2All">全部收折</button>
  </div>
  <br/>
  <!--all line detail start-->
  <div  class="row">
    <div  *ngFor="let mch of this.data_mccode_len; let i=index"  [ngClass]="strListClass">
      <!--<h3 style="border:solid;background-color:lightgreen;font-family: impact;color:brown">{{ datas[i].name }}</h3>-->
        <button
          class="w3-button w3-block w3-teal"
          style="margin:3px;background-color:lightgreen;font-family: impact;color:brown"
          [id]="id2 + i"
          (click) = "jqueryToggle(id1 + i , id2 +i)">{{ datas[i].name }}</button>
        <table class="table table-bordered'" style="border:ridge" [id]="id1 + i"  >
          <thead>
            <tr>
              <th style='text-align:center;'>時間</th>
              <th style='text-align:center;'>品種</th>
              <th style='text-align:center;'>數量</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of datas[i].detail"
            [ngStyle]="{'background': item.dateHr.match('小')!= null ? 'orange' : item.dateHr.match('合')!= null ? 'cornflowerblue' : ''   }"
             >
              <td >{{item.dateHr}}</td>
              <td>{{item.item}}</td>
              <td>{{item.qty}}</td>
            </tr>
          </tbody>
        </table>
      </div>
  </div>
  <!--all line detail end-->
</div>


